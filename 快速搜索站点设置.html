// ==UserScript==
// @name         生成快速搜索
// @namespace    http://tampermonkey.net/
// @version      2025-02-18
// @description  try to take over the world!
// @author       You
// @match        https://www.hdkyl.in/usercp.php?action=personal*
// @icon         data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==
// @grant        none
// ==/UserScript==

(function() {
'use strict';

const imdbConfig = {
"Audiences": "https://audiences.me/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"CMCT": "https://springsunday.net/torrents.php?search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"CHD": "https://ptchdbits.co/torrents.php?search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"TTG": "https://totheglory.im/browse.php?search_field=imdb{imdbno}&c=M&sort=5&type=desc",
"OurBits": "https://ourbits.club/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"UBits": "https://ubits.club/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"LemonHD": "https://lemonhd.club/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"麒麟": "https://www.hdkyl.in/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"AGSV": "https://www.agsvpt.com/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"ZMPT": "https://zmpt.cc/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"CarPt": "https://carpt.net/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"QingWa": "https://qingwapt.com/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"HDFuns": "https://hdfans.org/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"象岛": "https://ptvicomo.net/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"PTer": "https://pterclub.com/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"Aither": "https://aither.cc/torrents?imdbId={imdbid}#page/1",
"FNP": "https://fearnopeer.com/torrents?imdbId={imdbid}#page/1",
"BLU": "https://blutopia.cc/torrents?imdbId={imdbid}#page/1",
"HDT": "https://hd-torrents.org/torrents.php?search={imdbid}&active=0&options=2&order=size&by=DESC",
"PTLGS": "https://ptlgs.org/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"DaJiao": "https://dajiao.cyou/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"UltraHD": "https://ultrahd.net/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"TJUPT": "https://www.tjupt.org/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"HHWEB": "https://hhanclub.top/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={imdbid}&search_area=4&search_mode=0&notnewword=&sort=5&type=desc",
"HDSky": "https://hdsky.me/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={imdbid}&search_area=4&search_mode=0&sort=5&type=desc",
"UHD": "https://uhdbits.org/torrents.php?searchstr={imdbid}",
"ANT": "https://anthelion.me/torrents.php?searchstr={imdbid}",
"MTV": "https://www.morethantv.me/torrents/browse?searchtext={imdbid}",
"HUNO": "https://hawke.uno/torrents?imdbId={imdbid}",
"TL":"https://www.torrentleech.org/torrents/browse/index/query/{imdbid}"
};



const nameConfig = {
"HDDolby": "https://www.hddolby.com/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"MTeam": "https://kp.m-team.cc/browse?keyword={search_name}&pageNumber=1&sort=size%3Adescend",
"ANT": "https://anthelion.me/torrents.php?order_by=time&order_way=desc&searchstr={search_name}&search_type=0&taglist=&tags_type=0",
"OPS": "https://orpheus.network/torrents.php?searchstr={search_name}&tags_type=1&order=time&sort=desc&group_results=1&action=basic&searchsubmit=1",
"Audiences": "https://audiences.me/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"CMCT": "https://springsunday.net/torrents.php?search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"CHD": "https://ptchdbits.co/torrents.php?search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"TTG": "https://totheglory.im/browse.php?search_field={search_name}&c=M&sort=5&type=desc",
"OurBits": "https://ourbits.club/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"UBits": "https://ubits.club/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"LemonHD": "https://lemonhd.club/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"麒麟": "https://www.hdkyl.in/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"AGSV": "https://www.agsvpt.com/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"ZMPT": "https://zmpt.cc/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"CarPt": "https://carpt.net/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"QingWa": "https://qingwapt.com/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"HDFuns": "https://hdfans.org/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"象岛": "https://ptvicomo.net/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"PTer": "https://pterclub.com/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"Aither": "https://aither.cc/torrents?name={search_name}",
"FNP": "https://fearnopeer.com/torrents?name={search_name}",
"BLU": "https://blutopia.cc/torrents?name={search_name}",
"HDT": "https://hd-torrents.org/torrents.php?search={search_name}&active=0&options=0&order=size&by=DESC",
"PTLGS": "https://ptlgs.org/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"DaJiao": "https://dajiao.cyou/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"UltraHD": "https://ultrahd.net/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"TJUPT": "https://www.tjupt.org/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"HHWEB": "https://hhanclub.top/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc",
"HDSky": "https://hdsky.me/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&sort=5&type=desc",
"UHD": "https://uhdbits.org/torrents.php?searchstr={search_name}",
"ANT": "https://anthelion.me/torrents.php?searchstr={search_name}",
"MTV": "https://www.morethantv.me/torrents/browse?searchtext={search_name}",
"HUNO": "https://hawke.uno/torrents?name={search_name}",
"TL":"https://www.torrentleech.org/torrents/browse/index/query/{search_name}"

};

const sites = ["Audiences","CMCT","CHD","OurBits", "TTG", "PTer",  "UBits", "LemonHD", "麒麟", "AGSV", "ZMPT", "CarPt", "QingWa", "HDFuns", "象岛", "Aither","HUNO", "FNP", "BLU", "HDT",
"UHD","ANT","MTV","TL","UltraHD", "TJUPT", "HHWEB", "HDSky"];

// 生成英文名链接
let nameLinks = '英文名\n';
sites.forEach(site => {
const url = nameConfig[site];
nameLinks += `<a href="${url}" target="_blank">${site}</a>\n`;
});

// 生成IMDbID链接
let imdbLinks = 'IMDbID\n';
sites.forEach(site => {
let url = imdbConfig[site];
imdbLinks += `<a href="${url}" target="_blank">${site}</a>\n`;
});

let head = `<a href="https://www.hddolby.com/torrents.php?incldead=0&spstate=0&inclbookmarked=0&search={search_name}&search_area=0&search_mode=0&notnewword=&sort=5&type=desc" target="_blank">HDDolby</a>
<a href="https://kp.m-team.cc/browse?keyword={search_name}&pageNumber=1&sort=size%3Adescend" target="_blank">MTeam</a>
<a href="https://anthelion.me/torrents.php?order_by=time&order_way=desc&searchstr={search_name}&search_type=0&taglist=&tags_type=0" target="_blank">ANT</a>
<a href="https://orpheus.network/torrents.php?searchstr={search_name}&tags_type=1&order=time&sort=desc&group_results=1&action=basic&searchsubmit=1" target="_blank">OPS</a>`;

let foot = `<a href="http://zmk.pw/search?q={search_name}" target="_blank">ZMK</a>
<a href="https://assrt.net/sub/?searchword={search_name}" target="_blank">SSW</a>
<a href="https://www.imdb.com/title/{imdbid}/" target="_blank">IMDB</a>
<a href="https://www.themoviedb.org/search?query={search_name}" target="_blank">TMDB</a>
<a href="https://search.douban.com/movie/subject_search?search_text={imdbid}" target="_blank">Douban</a>
<a href="https://mediaarea.net/MediaInfoOnline" target="_blank">MediaiInfo</a>
<a href="https://thetvdb.com/search?query={search_name}" target="_blank">TVDB</a>`;

console.log(head + '<br/>\n' + nameLinks + '<br/>\n' + imdbLinks + '<br/>\n' + foot);

// 方法2：延时检查（适用于动态加载的页面）
function waitForElement() {
let attempts = 0;
const maxAttempts = 10;
const interval = setInterval(() => {
const textarea = document.querySelector('textarea[name="set_jump_href"]');
if (textarea) {
clearInterval(interval);
textarea.value = head + '<br/>\n' + nameLinks + '<br/>\n' + imdbLinks + '<br/>\n' + foot;
textarea.dispatchEvent(new Event('change'));
} else if (attempts >= maxAttempts) {
clearInterval(interval);
}
attempts++;
}, 500);
}

// 根据需求选择执行方式
window.addEventListener('load', function() {
// setTextareaValue();       // 直接执行
waitForElement();           // 或者使用延时检查
});

})();
